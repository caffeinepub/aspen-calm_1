@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Aspen Calm Modern Twilight - Light Mode */
    --background: 0.95 0.02 280; /* Soft Lavender Mist */
    --foreground: 0.25 0.05 280; /* Deep Plum */
    
    --card: 0.98 0.01 280;
    --card-foreground: 0.25 0.05 280;
    
    --popover: 0.98 0.01 280;
    --popover-foreground: 0.25 0.05 280;
    
    --primary: 0.35 0.08 280; /* Rich Plum */
    --primary-foreground: 0.98 0.01 280;
    
    --secondary: 0.85 0.08 50; /* Champagne Gold */
    --secondary-foreground: 0.25 0.05 280;
    
    --muted: 0.90 0.02 280; /* Mist Grey */
    --muted-foreground: 0.45 0.03 280;
    
    --accent: 0.75 0.12 320; /* Soft Orchid */
    --accent-foreground: 0.25 0.05 280;
    
    --destructive: 0.55 0.20 25;
    --destructive-foreground: 0.98 0.01 280;
    
    --border: 0.85 0.02 280;
    --input: 0.85 0.02 280;
    --ring: 0.35 0.08 280;
    
    --chart-1: 0.60 0.15 280;
    --chart-2: 0.70 0.12 320;
    --chart-3: 0.75 0.10 50;
    --chart-4: 0.65 0.08 200;
    --chart-5: 0.55 0.12 340;
    
    /* Audiobooks audience accents */
    --kids-accent: 0.70 0.15 180; /* Playful Teal */
    --adults-accent: 0.65 0.10 40; /* Warm Amber */
    
    --radius: 0.75rem;
  }

  .dark {
    /* Aspen Calm Modern Twilight - Dark Mode */
    --background: 0.20 0.05 280; /* Deep Twilight */
    --foreground: 0.95 0.02 280; /* Soft Lavender */
    
    --card: 0.25 0.05 280;
    --card-foreground: 0.95 0.02 280;
    
    --popover: 0.25 0.05 280;
    --popover-foreground: 0.95 0.02 280;
    
    --primary: 0.75 0.12 320; /* Soft Orchid */
    --primary-foreground: 0.20 0.05 280;
    
    --secondary: 0.85 0.08 50; /* Champagne Gold */
    --secondary-foreground: 0.20 0.05 280;
    
    --muted: 0.30 0.04 280;
    --muted-foreground: 0.70 0.03 280;
    
    --accent: 0.85 0.08 50;
    --accent-foreground: 0.20 0.05 280;
    
    --destructive: 0.55 0.20 25;
    --destructive-foreground: 0.95 0.02 280;
    
    --border: 0.30 0.04 280;
    --input: 0.30 0.04 280;
    --ring: 0.75 0.12 320;
    
    --chart-1: 0.60 0.15 280;
    --chart-2: 0.70 0.12 320;
    --chart-3: 0.75 0.10 50;
    --chart-4: 0.65 0.08 200;
    --chart-5: 0.55 0.12 340;
    
    /* Audiobooks audience accents - dark mode */
    --kids-accent: 0.65 0.18 180; /* Brighter Teal */
    --adults-accent: 0.70 0.12 40; /* Brighter Amber */
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
}

@layer utilities {
  /* Glassmorphism utilities */
  .glass-panel {
    background: oklch(var(--background) / 0.7);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid oklch(var(--border) / 0.2);
  }
  
  .glass-card {
    background: oklch(var(--card) / 0.6);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 1px solid oklch(var(--border) / 0.15);
  }
  
  /* Twilight gradient background */
  .bg-twilight {
    background: linear-gradient(
      135deg,
      oklch(0.92 0.03 280) 0%,
      oklch(0.88 0.04 300) 50%,
      oklch(0.90 0.03 260) 100%
    );
  }
  
  .dark .bg-twilight {
    background: linear-gradient(
      135deg,
      oklch(0.18 0.06 280) 0%,
      oklch(0.22 0.07 300) 50%,
      oklch(0.20 0.06 260) 100%
    );
  }
  
  /* Button utilities */
  .btn-primary {
    background: oklch(var(--primary));
    color: oklch(var(--primary-foreground));
  }
  
  .btn-primary:hover {
    background: oklch(0.40 0.10 280);
  }
  
  .btn-secondary {
    background: oklch(var(--secondary));
    color: oklch(var(--secondary-foreground));
  }
  
  .btn-secondary:hover {
    background: oklch(0.80 0.10 50);
  }

  /* Premium selected glow effect */
  .selected-glow {
    box-shadow: 
      0 0 0 2px oklch(0.85 0.08 50),
      0 0 20px 2px oklch(0.85 0.08 50 / 0.4),
      0 4px 12px oklch(0.35 0.08 280 / 0.3);
    position: relative;
  }

  .dark .selected-glow {
    box-shadow: 
      0 0 0 2px oklch(0.85 0.08 50),
      0 0 24px 3px oklch(0.85 0.08 50 / 0.5),
      0 4px 16px oklch(0.75 0.12 320 / 0.4);
  }

  /* Bluetooth status animation */
  .bluetooth-status {
    transition: color 0.3s ease;
  }

  /* Display mode styles */
  [data-display-mode="Back"] .bg-twilight {
    background: linear-gradient(
      135deg,
      oklch(0.88 0.04 260) 0%,
      oklch(0.85 0.05 280) 50%,
      oklch(0.87 0.04 240) 100%
    );
  }

  .dark [data-display-mode="Back"] .bg-twilight {
    background: linear-gradient(
      135deg,
      oklch(0.15 0.07 260) 0%,
      oklch(0.18 0.08 280) 50%,
      oklch(0.17 0.07 240) 100%
    );
  }

  /* Now Playing bar positioning */
  .now-playing-bar {
    transition: bottom 0.3s ease;
  }

  /* Kids cartoon favorite tiles */
  .favorite-tile {
    background: oklch(var(--background) / 0.7);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid oklch(var(--border) / 0.2);
    border-radius: 1rem;
    padding: 1rem;
    cursor: pointer;
    transition: all 0.2s ease;
    min-height: 120px;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  .favorite-tile:hover {
    transform: scale(1.02);
    border-color: oklch(var(--primary) / 0.3);
  }

  .favorite-tile:focus-visible {
    outline: none;
    box-shadow: 0 0 0 2px oklch(var(--ring));
  }

  .favorite-tile:active {
    transform: scale(0.98);
  }

  .favorite-tile h3 {
    font-size: 1.125rem;
    font-weight: 600;
    color: oklch(var(--foreground));
    margin-bottom: 0.25rem;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
  }

  .favorite-tile p {
    font-size: 0.875rem;
    color: oklch(var(--foreground) / 0.7);
  }

  /* Audiobooks section headers with audience accents */
  .audiobook-section-header.kids-accent .glass-panel {
    border-left: 4px solid oklch(var(--kids-accent));
  }

  .audiobook-section-header.adults-accent .glass-panel {
    border-left: 4px solid oklch(var(--adults-accent));
  }

  /* Audiobooks category grid - iPad optimized */
  .audiobook-category-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }

  @media (min-width: 768px) {
    .audiobook-category-grid {
      grid-template-columns: repeat(2, 1fr);
      gap: 1.5rem;
    }
  }

  /* Audiobooks category tile - touch-friendly */
  .audiobook-category-tile {
    min-height: 140px;
    padding: 1.5rem;
  }

  @media (min-width: 768px) {
    .audiobook-category-tile {
      min-height: 160px;
      padding: 2rem;
    }
  }
}

@layer components {
  /* Safe area insets for mobile devices */
  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-area-top {
    padding-top: env(safe-area-inset-top);
  }
}
